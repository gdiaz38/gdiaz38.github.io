<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Ratings Analysis - Data Science Project</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            color: #666;
        }

        .section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            margin: 20px 0;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .section:hover {
            transform: translateY(-5px);
        }

        .section h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 1.8rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .section h3 {
            color: #667eea;
            margin: 20px 0 10px 0;
            font-size: 1.4rem;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .control-group label {
            font-weight: 600;
            color: #4a5568;
        }

        select, button {
            padding: 12px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        select:focus, button:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            border: none;
            font-weight: 600;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: scale(1.05);
        }

        .stat-card h4 {
            font-size: 0.9rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: bold;
        }

        .data-table {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background-color: #f8fafc;
        }

        .methodology {
            background: #f8fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Monaco', 'Menlo', monospace;
            overflow-x: auto;
            margin: 15px 0;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé¨ Movie Ratings Analysis</h1>
            <p>A comprehensive data science project analyzing movie ratings, genres, and trends</p>
        </div>

        <div class="section">
            <h2>üìä Interactive Data Dashboard</h2>
            <div class="controls">
                <div class="control-group">
                    <label for="genreFilter">Filter by Genre:</label>
                    <select id="genreFilter">
                        <option value="all">All Genres</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="sortBy">Sort by:</label>
                    <select id="sortBy">
                        <option value="rating">Rating</option>
                        <option value="year">Year</option>
                        <option value="title">Title</option>
                    </select>
                </div>
                <button onclick="generateRandomData()">Generate New Dataset</button>
            </div>
            
            <div class="stats-grid" id="statsGrid">
                <!-- Stats will be populated by JavaScript -->
            </div>
            
            <div class="chart-container">
                <canvas id="ratingsChart"></canvas>
            </div>
        </div>

        <div class="section">
            <h2>üîç Data Insights & Analysis</h2>
            <div id="insights">
                <!-- Insights will be populated by JavaScript -->
            </div>
        </div>

        <div class="section">
            <h2>üìà Statistical Analysis</h2>
            <div class="chart-container">
                <canvas id="genreChart"></canvas>
            </div>
            <div id="statisticalResults">
                <!-- Statistical results will be populated by JavaScript -->
            </div>
        </div>

        <div class="section">
            <h2>üìã Sample Data</h2>
            <div class="data-table">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Genre</th>
                            <th>Year</th>
                            <th>Rating</th>
                            <th>Runtime (min)</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h2>üî¨ Methodology & Code</h2>
            <div class="methodology">
                <h3>Data Collection & Processing</h3>
                <p>This project demonstrates key data science concepts using a simulated movie dataset. The analysis includes:</p>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li>Data cleaning and preprocessing</li>
                    <li>Exploratory data analysis (EDA)</li>
                    <li>Statistical calculations (mean, median, standard deviation)</li>
                    <li>Data visualization using Chart.js</li>
                    <li>Interactive filtering and sorting</li>
                </ul>
            </div>
            
            <h3>Sample Python Code</h3>
            <div class="code-block">
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# Load and clean data
df = pd.read_csv('movies.csv')
df = df.dropna()  # Remove missing values

# Calculate statistics
mean_rating = df['rating'].mean()
median_rating = df['rating'].median()
std_rating = df['rating'].std()

# Group by genre
genre_stats = df.groupby('genre')['rating'].agg(['mean', 'count'])

# Create visualizations
plt.figure(figsize=(10, 6))
plt.hist(df['rating'], bins=20, alpha=0.7)
plt.title('Distribution of Movie Ratings')
plt.xlabel('Rating')
plt.ylabel('Frequency')
plt.show()
            </div>

            <h3>Key Findings</h3>
            <div class="methodology">
                <p id="keyFindings">Analysis results will appear here based on the current dataset.</p>
            </div>
        </div>
    </div>

    <script>
        // Sample movie data
        let movieData = [];
        let ratingsChart, genreChart;

        // Movie titles, genres for realistic data
        const movieTitles = [
            "The Shawshank Redemption", "The Godfather", "Pulp Fiction", "The Dark Knight",
            "Inception", "Fight Club", "Forrest Gump", "The Matrix", "Goodfellas",
            "The Lord of the Rings", "Star Wars", "Titanic", "Avatar", "Jaws",
            "E.T.", "Casablanca", "Gone with the Wind", "Lawrence of Arabia",
            "Citizen Kane", "Vertigo", "Psycho", "Singin' in the Rain",
            "The Wizard of Oz", "Sunset Boulevard", "The Graduate", "On the Waterfront"
        ];

        const genres = ["Drama", "Action", "Comedy", "Thriller", "Sci-Fi", "Romance", "Horror", "Adventure"];

        function generateRandomData() {
            movieData = [];
            const numMovies = 50 + Math.floor(Math.random() * 50);
            
            for (let i = 0; i < numMovies; i++) {
                const title = movieTitles[Math.floor(Math.random() * movieTitles.length)];
                const genre = genres[Math.floor(Math.random() * genres.length)];
                const year = 1990 + Math.floor(Math.random() * 34);
                const rating = Math.round((Math.random() * 4 + 6) * 10) / 10; // 6.0 - 10.0 ratings
                const runtime = 90 + Math.floor(Math.random() * 120); // 90-210 minutes
                
                movieData.push({ title, genre, year, rating, runtime });
            }
            
            updateDashboard();
        }

        function updateDashboard() {
            updateStats();
            updateCharts();
            updateTable();
            updateInsights();
            updateGenreFilter();
            updateStatisticalAnalysis();
        }

        function updateStats() {
            const ratings = movieData.map(m => m.rating);
            const avgRating = (ratings.reduce((a, b) => a + b, 0) / ratings.length).toFixed(1);
            const maxRating = Math.max(...ratings).toFixed(1);
            const minRating = Math.min(...ratings).toFixed(1);
            const totalMovies = movieData.length;

            const statsGrid = document.getElementById('statsGrid');
            statsGrid.innerHTML = `
                <div class="stat-card">
                    <h4>Average Rating</h4>
                    <div class="value">${avgRating}</div>
                </div>
                <div class="stat-card">
                    <h4>Total Movies</h4>
                    <div class="value">${totalMovies}</div>
                </div>
                <div class="stat-card">
                    <h4>Highest Rating</h4>
                    <div class="value">${maxRating}</div>
                </div>
                <div class="stat-card">
                    <h4>Lowest Rating</h4>
                    <div class="value">${minRating}</div>
                </div>
            `;
        }

        function updateCharts() {
            // Ratings distribution chart
            const ctx1 = document.getElementById('ratingsChart').getContext('2d');
            const ratings = movieData.map(m => m.rating);
            const ratingBins = {};
            
            for (let i = 6; i <= 10; i += 0.5) {
                ratingBins[i.toFixed(1)] = 0;
            }
            
            ratings.forEach(rating => {
                const bin = (Math.round(rating * 2) / 2).toFixed(1);
                if (ratingBins[bin] !== undefined) ratingBins[bin]++;
            });

            if (ratingsChart) ratingsChart.destroy();
            ratingsChart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: Object.keys(ratingBins),
                    datasets: [{
                        label: 'Number of Movies',
                        data: Object.values(ratingBins),
                        backgroundColor: 'rgba(102, 126, 234, 0.7)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Distribution of Movie Ratings'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Genre chart
            const ctx2 = document.getElementById('genreChart').getContext('2d');
            const genreCounts = {};
            movieData.forEach(movie => {
                genreCounts[movie.genre] = (genreCounts[movie.genre] || 0) + 1;
            });

            if (genreChart) genreChart.destroy();
            genreChart = new Chart(ctx2, {
                type: 'pie',
                data: {
                    labels: Object.keys(genreCounts),
                    datasets: [{
                        data: Object.values(genreCounts),
                        backgroundColor: [
                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',
                            '#9966FF', '#FF9F40', '#FF6384', '#C9CBCF'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Movies by Genre'
                        }
                    }
                }
            });
        }

        function updateTable() {
            const sortBy = document.getElementById('sortBy').value;
            const genreFilter = document.getElementById('genreFilter').value;
            
            let filteredData = genreFilter === 'all' ? 
                movieData : movieData.filter(m => m.genre === genreFilter);
            
            filteredData.sort((a, b) => {
                if (sortBy === 'rating') return b.rating - a.rating;
                if (sortBy === 'year') return b.year - a.year;
                if (sortBy === 'title') return a.title.localeCompare(b.title);
            });

            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = filteredData.slice(0, 20).map(movie => `
                <tr>
                    <td>${movie.title}</td>
                    <td>${movie.genre}</td>
                    <td>${movie.year}</td>
                    <td>${movie.rating}</td>
                    <td>${movie.runtime}</td>
                </tr>
            `).join('');
        }

        function updateInsights() {
            const ratings = movieData.map(m => m.rating);
            const avgRating = (ratings.reduce((a, b) => a + b, 0) / ratings.length);
            const genreCounts = {};
            const genreRatings = {};
            
            movieData.forEach(movie => {
                genreCounts[movie.genre] = (genreCounts[movie.genre] || 0) + 1;
                if (!genreRatings[movie.genre]) genreRatings[movie.genre] = [];
                genreRatings[movie.genre].push(movie.rating);
            });

            const topGenre = Object.keys(genreCounts).reduce((a, b) => 
                genreCounts[a] > genreCounts[b] ? a : b);
            
            const bestRatedGenre = Object.keys(genreRatings).reduce((a, b) => {
                const avgA = genreRatings[a].reduce((sum, r) => sum + r, 0) / genreRatings[a].length;
                const avgB = genreRatings[b].reduce((sum, r) => sum + r, 0) / genreRatings[b].length;
                return avgA > avgB ? a : b;
            });

            document.getElementById('insights').innerHTML = `
                <h3>üéØ Key Insights</h3>
                <div class="methodology">
                    <p><strong>Most Popular Genre:</strong> ${topGenre} (${genreCounts[topGenre]} movies)</p>
                    <p><strong>Highest Rated Genre:</strong> ${bestRatedGenre} (avg rating: ${(genreRatings[bestRatedGenre].reduce((a,b) => a+b, 0) / genreRatings[bestRatedGenre].length).toFixed(1)})</p>
                    <p><strong>Overall Average Rating:</strong> ${avgRating.toFixed(1)}/10</p>
                    <p><strong>Dataset Size:</strong> ${movieData.length} movies analyzed</p>
                </div>
            `;
        }

        function updateGenreFilter() {
            const select = document.getElementById('genreFilter');
            const uniqueGenres = [...new Set(movieData.map(m => m.genre))].sort();
            
            select.innerHTML = '<option value="all">All Genres</option>' + 
                uniqueGenres.map(genre => `<option value="${genre}">${genre}</option>`).join('');
        }

        function updateStatisticalAnalysis() {
            const ratings = movieData.map(m => m.rating);
            const mean = ratings.reduce((a, b) => a + b, 0) / ratings.length;
            const variance = ratings.reduce((a, b) => a + Math.pow(b - mean, 2), 0) / ratings.length;
            const stdDev = Math.sqrt(variance);
            const median = ratings.sort((a, b) => a - b)[Math.floor(ratings.length / 2)];

            document.getElementById('statisticalResults').innerHTML = `
                <h3>üìä Statistical Measures</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Mean Rating</h4>
                        <div class="value">${mean.toFixed(2)}</div>
                    </div>
                    <div class="stat-card">
                        <h4>Median Rating</h4>
                        <div class="value">${median.toFixed(2)}</div>
                    </div>
                    <div class="stat-card">
                        <h4>Standard Deviation</h4>
                        <div class="value">${stdDev.toFixed(2)}</div>
                    </div>
                    <div class="stat-card">
                        <h4>Variance</h4>
                        <div class="value">${variance.toFixed(2)}</div>
                    </div>
                </div>
            `;

            // Update key findings
            document.getElementById('keyFindings').innerHTML = `
                Based on the current dataset analysis:
                <ul style="margin-top: 10px;">
                    <li>The average movie rating is ${mean.toFixed(1)} out of 10</li>
                    <li>Standard deviation of ${stdDev.toFixed(2)} indicates ${stdDev > 1 ? 'high' : 'moderate'} rating variability</li>
                    <li>The dataset contains ${movieData.length} movies across ${[...new Set(movieData.map(m => m.genre))].length} genres</li>
                    <li>Rating distribution follows a ${mean > 7.5 ? 'positively skewed' : 'normal'} pattern</li>
                </ul>
            `;
        }

        // Event listeners
        document.getElementById('genreFilter').addEventListener('change', updateTable);
        document.getElementById('sortBy').addEventListener('change', updateTable);

        // Initialize with random data
        generateRandomData();
    </script>
</body>
</html>